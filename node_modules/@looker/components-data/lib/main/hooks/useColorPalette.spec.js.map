{"version":3,"file":"useColorPalette.spec.js","names":["afterEach","jest","resetAllMocks","describe","wrapper","children","it","renderHook","useColorPalette","result","expect","current","colorPalette","toEqual","DEFAULT_SERIES_COLORS","sdkMethodColorCollectionListener","not","toHaveBeenCalled","collection_id","palette_id","waitForNextUpdate","toHaveBeenCalledTimes","customColors","custom","colors","id","label","type"],"sources":["../../../src/hooks/useColorPalette.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport { renderHook } from '@testing-library/react-hooks'\nimport { DEFAULT_SERIES_COLORS } from '@looker/visualizations-adapters'\nimport { ContextWrapper, sdkMethodColorCollectionListener } from '../testUtils'\nimport { useColorPalette } from './useColorPalette'\n\nafterEach(() => {\n  jest.resetAllMocks()\n})\n\ndescribe('useColorPalette', () => {\n  const wrapper = ({ children }: React.PropsWithChildren<unknown>) => (\n    <ContextWrapper>{children}</ContextWrapper>\n  )\n\n  it('returns DEFAULT_SERIES_COLORS when argument is undefined', () => {\n    const { result } = renderHook(() => useColorPalette(), { wrapper })\n    expect(result.current.colorPalette).toEqual(DEFAULT_SERIES_COLORS)\n    expect(sdkMethodColorCollectionListener).not.toHaveBeenCalled()\n  })\n\n  it('returns color palette based on collection_id and paletted_id', async () => {\n    const { result, waitForNextUpdate } = renderHook(\n      () =>\n        useColorPalette({\n          collection_id: '5591d8d1-6b49-4f8e-bafa-b874d82f8eb7',\n          palette_id: '18d0c733-1d87-42a9-934f-4ba8ef81d736',\n        }),\n      { wrapper }\n    )\n\n    await waitForNextUpdate()\n\n    expect(result.current.colorPalette).toEqual([\n      '#3D52B9',\n      '#08B248',\n      '#A918B4',\n      '#FC2E31',\n      '#FC9200',\n      '#2B99F7',\n      '#C9DC10',\n      '#fa2f90',\n      '#FCBF00',\n      '#24BED5',\n      '#149888',\n      '#6F38BB',\n    ])\n    expect(sdkMethodColorCollectionListener).toHaveBeenCalledTimes(1)\n  })\n\n  it('returns custom color palette when that is present', async () => {\n    const customColors = ['#FFFFFF', '#FF0000', '#00FF00']\n\n    const { result, waitForNextUpdate } = renderHook(\n      () =>\n        useColorPalette({\n          collection_id: '5591d8d1-6b49-4f8e-bafa-b874d82f8eb7',\n          custom: {\n            colors: customColors,\n            id: 'bb90f382-806e-f66a-cce0-35ee8f837186',\n            label: 'Custom',\n            type: 'discrete',\n          },\n        }),\n      { wrapper }\n    )\n\n    await waitForNextUpdate()\n\n    expect(result.current.colorPalette).toEqual(customColors)\n    expect(sdkMethodColorCollectionListener).toHaveBeenCalledTimes(1)\n  })\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;;AAEAA,SAAS,CAAC,YAAM;EACdC,IAAI,CAACC,aAAa,EAAE;AACtB,CAAC,CAAC;AAEFC,QAAQ,CAAC,iBAAiB,EAAE,YAAM;EAChC,IAAMC,OAAO,GAAG,SAAVA,OAAO;IAAA,IAAMC,QAAQ,QAARA,QAAQ;IAAA,OACzB,gCAAC,yBAAc,QAAEA,QAAQ,CAAkB;EAAA,CAC5C;EAEDC,EAAE,CAAC,0DAA0D,EAAE,YAAM;IACnE,kBAAmB,IAAAC,sBAAU,EAAC;QAAA,OAAM,IAAAC,gCAAe,GAAE;MAAA,GAAE;QAAEJ,OAAO,EAAPA;MAAQ,CAAC,CAAC;MAA3DK,MAAM,eAANA,MAAM;IACdC,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAACC,6CAAqB,CAAC;IAClEJ,MAAM,CAACK,2CAAgC,CAAC,CAACC,GAAG,CAACC,gBAAgB,EAAE;EACjE,CAAC,CAAC;EAEFX,EAAE,CAAC,8DAA8D,6DAAE;IAAA;IAAA;MAAA;QAAA;UAAA,eAC3B,IAAAC,sBAAU,EAC9C;YAAA,OACE,IAAAC,gCAAe,EAAC;cACdU,aAAa,EAAE,sCAAsC;cACrDC,UAAU,EAAE;YACd,CAAC,CAAC;UAAA,GACJ;YAAEf,OAAO,EAAPA;UAAQ,CAAC,CACZ,EAPOK,MAAM,gBAANA,MAAM,EAAEW,iBAAiB,gBAAjBA,iBAAiB;UAAA;UAAA,OAS3BA,iBAAiB,EAAE;QAAA;UAEzBV,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAAC,CAC1C,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,CACV,CAAC;UACFH,MAAM,CAACK,2CAAgC,CAAC,CAACM,qBAAqB,CAAC,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAClE,GAAC;EAEFf,EAAE,CAAC,mDAAmD,6DAAE;IAAA;IAAA;MAAA;QAAA;UAChDgB,YAAY,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UAAA,eAEhB,IAAAf,sBAAU,EAC9C;YAAA,OACE,IAAAC,gCAAe,EAAC;cACdU,aAAa,EAAE,sCAAsC;cACrDK,MAAM,EAAE;gBACNC,MAAM,EAAEF,YAAY;gBACpBG,EAAE,EAAE,sCAAsC;gBAC1CC,KAAK,EAAE,QAAQ;gBACfC,IAAI,EAAE;cACR;YACF,CAAC,CAAC;UAAA,GACJ;YAAEvB,OAAO,EAAPA;UAAQ,CAAC,CACZ,EAZOK,MAAM,gBAANA,MAAM,EAAEW,iBAAiB,gBAAjBA,iBAAiB;UAAA;UAAA,OAc3BA,iBAAiB,EAAE;QAAA;UAEzBV,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAACS,YAAY,CAAC;UACzDZ,MAAM,CAACK,2CAAgC,CAAC,CAACM,qBAAqB,CAAC,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAClE,GAAC;AACJ,CAAC,CAAC"}