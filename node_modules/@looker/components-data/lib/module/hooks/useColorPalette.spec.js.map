{"version":3,"file":"useColorPalette.spec.js","names":["React","renderHook","DEFAULT_SERIES_COLORS","ContextWrapper","sdkMethodColorCollectionListener","useColorPalette","afterEach","jest","resetAllMocks","describe","wrapper","children","it","result","expect","current","colorPalette","toEqual","not","toHaveBeenCalled","waitForNextUpdate","collection_id","palette_id","toHaveBeenCalledTimes","customColors","custom","colors","id","label","type"],"sources":["../../../src/hooks/useColorPalette.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport { renderHook } from '@testing-library/react-hooks'\nimport { DEFAULT_SERIES_COLORS } from '@looker/visualizations-adapters'\nimport { ContextWrapper, sdkMethodColorCollectionListener } from '../testUtils'\nimport { useColorPalette } from './useColorPalette'\n\nafterEach(() => {\n  jest.resetAllMocks()\n})\n\ndescribe('useColorPalette', () => {\n  const wrapper = ({ children }: React.PropsWithChildren<unknown>) => (\n    <ContextWrapper>{children}</ContextWrapper>\n  )\n\n  it('returns DEFAULT_SERIES_COLORS when argument is undefined', () => {\n    const { result } = renderHook(() => useColorPalette(), { wrapper })\n    expect(result.current.colorPalette).toEqual(DEFAULT_SERIES_COLORS)\n    expect(sdkMethodColorCollectionListener).not.toHaveBeenCalled()\n  })\n\n  it('returns color palette based on collection_id and paletted_id', async () => {\n    const { result, waitForNextUpdate } = renderHook(\n      () =>\n        useColorPalette({\n          collection_id: '5591d8d1-6b49-4f8e-bafa-b874d82f8eb7',\n          palette_id: '18d0c733-1d87-42a9-934f-4ba8ef81d736',\n        }),\n      { wrapper }\n    )\n\n    await waitForNextUpdate()\n\n    expect(result.current.colorPalette).toEqual([\n      '#3D52B9',\n      '#08B248',\n      '#A918B4',\n      '#FC2E31',\n      '#FC9200',\n      '#2B99F7',\n      '#C9DC10',\n      '#fa2f90',\n      '#FCBF00',\n      '#24BED5',\n      '#149888',\n      '#6F38BB',\n    ])\n    expect(sdkMethodColorCollectionListener).toHaveBeenCalledTimes(1)\n  })\n\n  it('returns custom color palette when that is present', async () => {\n    const customColors = ['#FFFFFF', '#FF0000', '#00FF00']\n\n    const { result, waitForNextUpdate } = renderHook(\n      () =>\n        useColorPalette({\n          collection_id: '5591d8d1-6b49-4f8e-bafa-b874d82f8eb7',\n          custom: {\n            colors: customColors,\n            id: 'bb90f382-806e-f66a-cce0-35ee8f837186',\n            label: 'Custom',\n            type: 'discrete',\n          },\n        }),\n      { wrapper }\n    )\n\n    await waitForNextUpdate()\n\n    expect(result.current.colorPalette).toEqual(customColors)\n    expect(sdkMethodColorCollectionListener).toHaveBeenCalledTimes(1)\n  })\n})\n"],"mappings":";;AAKA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,8BAA8B;AACzD,SAASC,qBAAqB,QAAQ,iCAAiC;AACvE,SAASC,cAAc,EAAEC,gCAAgC,QAAQ,cAAc;AAC/E,SAASC,eAAe,QAAQ,mBAAmB;AAEnDC,SAAS,CAAC,MAAM;EACdC,IAAI,CAACC,aAAa,EAAE;AACtB,CAAC,CAAC;AAEFC,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAChC,MAAMC,OAAO,GAAG,CAAC;IAAEC;EAA2C,CAAC,KAC7D,oBAAC,cAAc,QAAEA,QAAQ,CAC1B;EAEDC,EAAE,CAAC,0DAA0D,EAAE,MAAM;IACnE,MAAM;MAAEC;IAAO,CAAC,GAAGZ,UAAU,CAAC,MAAMI,eAAe,EAAE,EAAE;MAAEK;IAAQ,CAAC,CAAC;IACnEI,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAACf,qBAAqB,CAAC;IAClEY,MAAM,CAACV,gCAAgC,CAAC,CAACc,GAAG,CAACC,gBAAgB,EAAE;EACjE,CAAC,CAAC;EAEFP,EAAE,CAAC,8DAA8D,EAAE,YAAY;IAC7E,MAAM;MAAEC,MAAM;MAAEO;IAAkB,CAAC,GAAGnB,UAAU,CAC9C,MACEI,eAAe,CAAC;MACdgB,aAAa,EAAE,sCAAsC;MACrDC,UAAU,EAAE;IACd,CAAC,CAAC,EACJ;MAAEZ;IAAQ,CAAC,CACZ;IAED,MAAMU,iBAAiB,EAAE;IAEzBN,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAAC,CAC1C,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,CACV,CAAC;IACFH,MAAM,CAACV,gCAAgC,CAAC,CAACmB,qBAAqB,CAAC,CAAC,CAAC;EACnE,CAAC,CAAC;EAEFX,EAAE,CAAC,mDAAmD,EAAE,YAAY;IAClE,MAAMY,YAAY,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IAEtD,MAAM;MAAEX,MAAM;MAAEO;IAAkB,CAAC,GAAGnB,UAAU,CAC9C,MACEI,eAAe,CAAC;MACdgB,aAAa,EAAE,sCAAsC;MACrDI,MAAM,EAAE;QACNC,MAAM,EAAEF,YAAY;QACpBG,EAAE,EAAE,sCAAsC;QAC1CC,KAAK,EAAE,QAAQ;QACfC,IAAI,EAAE;MACR;IACF,CAAC,CAAC,EACJ;MAAEnB;IAAQ,CAAC,CACZ;IAED,MAAMU,iBAAiB,EAAE;IAEzBN,MAAM,CAACD,MAAM,CAACE,OAAO,CAACC,YAAY,CAAC,CAACC,OAAO,CAACO,YAAY,CAAC;IACzDV,MAAM,CAACV,gCAAgC,CAAC,CAACmB,qBAAqB,CAAC,CAAC,CAAC;EACnE,CAAC,CAAC;AACJ,CAAC,CAAC"}