export default class DataComponent {
  constructor(components) {
    this.components = components;
    this.settings = this.getSettings();
  }
  
  getSettings() {
    return {
      selector: '[data-component="${name}"]'
    }
  }
  
  query(selector) {
    return [...document.querySelectorAll(selector)];
  }
  
  load() {
    this.components.forEach(componentClass => {
      const selector = this.settings.selector.replace('${name}', componentClass.name);
      const components = this.query(selector);
      
      this.loadComponent(componentClass, components);
    });
  }
  
  loadComponent(componentClass, component) {
    new componentClass(component).build();
  }  
}