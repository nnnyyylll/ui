const DataComponent = require('../index').default;

const assert = require('assert');

describe('DataComponent', function() {  
  it('#load()', function() {
    var didCalledBuild = false;

    class MyTest {
      build() {
        didCalledBuild =  true;
      }
    }

    const myDataComponent = new DataComponent([MyTest]);
    
    // Rewrite query, returning an object thats match name with 
    // the expected class
    myDataComponent.query = () => [{name: 'MyTest'}];
    myDataComponent.load();

    assert.equal(true, didCalledBuild);
  });
});